# スクレイパー仕様書

## 概要

このドキュメントは、クローラーによって保存されたHTMLファイルを解析し、構造化データを抽出するスクレイパーの仕様について説明します。

## 設定 (`settings/scraper.yaml`)

スクレイパーの動作は `settings/scraper.yaml` ファイルによって制御されます。利用可能な設定オプションは以下の通りです。

### 一般設定

- `base_url` (string): スクレイピング対象サイトのベースURL。相対URLの解決に使用されます。
- `html_dir` (string): スクレイピング対象のHTMLファイルが格納されているディレクトリ。
- `output_dir` (string): スクレイピングしたデータ（CSV形式）を保存するディレクトリ。
- `max_workers` (integer): スクレイピング用の最大並行ワーカー数。最大値10
- `file_name` (string): 出力するCSVファイルの名前。

### スクレイピングセレクター

以下のセクションでは、HTMLから特定の情報を抽出するために使用されるCSSセレクターを定義します。各項目には `selector` を指定し、オプションで `attr` を指定して選択した要素から特定の属性（例：`<a>` タグの `href`）を取得したり、`regex` を指定してテキストコンテンツから値を抽出したりすることができます。

- `title`: 求人タイトル（例：「Webエンジニア」）。
- `company_name`: 会社名。
- `location`: 勤務地。
- `headquarters`: 本社の所在地。
- `summary_url`: 求人概要ページへのURL。
- `job_type`: 雇用形態（例：「正社員」、「契約社員」）。
- `salary`: 給与情報。
- `posted_at`: 求人掲載日。`regex` を使用して特定のフォーマットで抽出できます。

### 詳細情報セクション

`details` セクションには、求人情報に関するより具体的な情報のためのセレクターが含まれています。

- `job_name`: 職種名（例：「バックエンドエンジニア」）。
- `description`: 業務内容の説明。
- `requirements`: 応募条件。
- `work_hours`: 勤務時間（例：「9:00〜18:00」）。
- `benefits`: 福利厚生（例：「社会保険完備、交通費支給」）。
- `workplace_type`: 働き方の種類。
- `raise`: 昇給に関する情報（例：「年1回」）。
- `bonus`: 賞与に関する情報（例：「年2回」）。
- `holidays_per_year`: 年間休日数。`regex` を使用して数値を抽出できます。
- `holiday_policy`: 休日・休暇に関するポリシー。
